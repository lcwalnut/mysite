<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>数据交互 | CCWUYU&#39;s Site About Code</title>
    <meta name="description" content="Some Things About Code .">
    <meta name="generator" content="VuePress 1.4.0">
    <link name="shortcut icon" content="/images/favicon.ico">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/mysite/assets/css/0.styles.5bcf2ce5.css" as="style"><link rel="preload" href="/mysite/assets/js/app.a43bba06.js" as="script"><link rel="preload" href="/mysite/assets/js/3.6b13731c.js" as="script"><link rel="preload" href="/mysite/assets/js/2.56b9bd7b.js" as="script"><link rel="preload" href="/mysite/assets/js/14.21921766.js" as="script"><link rel="prefetch" href="/mysite/assets/js/10.009f4d87.js"><link rel="prefetch" href="/mysite/assets/js/11.21851f40.js"><link rel="prefetch" href="/mysite/assets/js/12.b6253faa.js"><link rel="prefetch" href="/mysite/assets/js/13.6fd75d32.js"><link rel="prefetch" href="/mysite/assets/js/15.e6911800.js"><link rel="prefetch" href="/mysite/assets/js/16.5cbcbc38.js"><link rel="prefetch" href="/mysite/assets/js/17.a5fba108.js"><link rel="prefetch" href="/mysite/assets/js/18.932f8d55.js"><link rel="prefetch" href="/mysite/assets/js/19.c4c6d5de.js"><link rel="prefetch" href="/mysite/assets/js/20.6ad558ca.js"><link rel="prefetch" href="/mysite/assets/js/21.e8adb19e.js"><link rel="prefetch" href="/mysite/assets/js/22.7ba3aff6.js"><link rel="prefetch" href="/mysite/assets/js/23.4f330d9c.js"><link rel="prefetch" href="/mysite/assets/js/24.48ee5c1b.js"><link rel="prefetch" href="/mysite/assets/js/25.f802549b.js"><link rel="prefetch" href="/mysite/assets/js/4.58bac588.js"><link rel="prefetch" href="/mysite/assets/js/5.bc16893c.js"><link rel="prefetch" href="/mysite/assets/js/6.0a4530ef.js"><link rel="prefetch" href="/mysite/assets/js/7.7aab4932.js"><link rel="prefetch" href="/mysite/assets/js/8.788d9a91.js"><link rel="prefetch" href="/mysite/assets/js/9.50180911.js">
    <link rel="stylesheet" href="/mysite/assets/css/0.styles.5bcf2ce5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container reform"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/mysite/" class="home-link router-link-active"><img src="/mysite/images/icon.png" alt="CCWUYU's Site About Code" class="logo"> <span class="site-name can-hide">CCWUYU's Site About Code</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/mysite/" class="nav-link"><!---->
Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><!----> <span class="title">Coding</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mysite/coding/aboutdata/" class="nav-link"><!---->
数据交互笔记</a></li><li class="dropdown-item"><!----> <a href="/mysite/coding/vuepress/" class="nav-link"><!---->
Vuepress</a></li><li class="dropdown-item"><!----> <a href="/mysite/coding/webpack/" class="nav-link"><!---->
Webpack</a></li><li class="dropdown-item"><!----> <a href="/mysite/coding/linux/" class="nav-link"><!---->
Linux</a></li></ul></div></div><div class="nav-item"><a href="/mysite/blog/" class="nav-link"><!---->
Blog</a></div><div class="nav-item"><a href="/mysite/tags/" class="nav-link"><!---->
Tags</a></div><div class="nav-item"><a href="/mysite/about/" class="nav-link"><!---->
About</a></div><div class="nav-item"><a href="https://github.com/lcwalnut" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://www.ccwuyu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  WebSite
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <!----> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/mysite/" class="nav-link"><!---->
Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><!----> <span class="title">Coding</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mysite/coding/aboutdata/" class="nav-link"><!---->
数据交互笔记</a></li><li class="dropdown-item"><!----> <a href="/mysite/coding/vuepress/" class="nav-link"><!---->
Vuepress</a></li><li class="dropdown-item"><!----> <a href="/mysite/coding/webpack/" class="nav-link"><!---->
Webpack</a></li><li class="dropdown-item"><!----> <a href="/mysite/coding/linux/" class="nav-link"><!---->
Linux</a></li></ul></div></div><div class="nav-item"><a href="/mysite/blog/" class="nav-link"><!---->
Blog</a></div><div class="nav-item"><a href="/mysite/tags/" class="nav-link"><!---->
Tags</a></div><div class="nav-item"><a href="/mysite/about/" class="nav-link"><!---->
About</a></div><div class="nav-item"><a href="https://github.com/lcwalnut" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://www.ccwuyu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  WebSite
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>数据交互笔记</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/mysite/coding/aboutdata.html" class="active sidebar-link">数据交互</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mysite/coding/aboutdata.html#跨域：" class="sidebar-link">跨域：</a></li><li class="sidebar-sub-header"><a href="/mysite/coding/aboutdata.html#安全性：" class="sidebar-link">安全性：</a></li><li class="sidebar-sub-header"><a href="/mysite/coding/aboutdata.html#http协议-rfc2612" class="sidebar-link">http协议  RFC2612</a></li><li class="sidebar-sub-header"><a href="/mysite/coding/aboutdata.html#osi七层交换-参考-模型：" class="sidebar-link">OSI七层交换“参考”模型：</a></li><li class="sidebar-sub-header"><a href="/mysite/coding/aboutdata.html#表单：" class="sidebar-link">表单：</a></li><li class="sidebar-sub-header"><a href="/mysite/coding/aboutdata.html#ajax：" class="sidebar-link">Ajax：</a></li><li class="sidebar-sub-header"><a href="/mysite/coding/aboutdata.html#问题" class="sidebar-link">问题</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vuepress</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page" data-v-71046f2c> <div class="content theme-default-content content__default" data-v-71046f2c><h1 id="数据交互"><a href="#数据交互" class="header-anchor">#</a> 数据交互</h1> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <ol><li>form：最基本、最简单    http数据请求其实都是表单</li> <li>AJAX：不用刷新   跟更节约流量  用户体验更好 | 默认情况下不能跨域，配合对方服务器的情况下可以跨域</li> <li>JSONP：跨域 | 安全性太差  |  逐渐被淘汰</li> <li>websocket：【不是表单】 快 民间测试性能比ajax高10~7000倍（收环境，通信信息影响） |  双向通信（双工通信）|  直接跨域</li></ol></div> <h2 id="跨域："><a href="#跨域：" class="header-anchor">#</a> 跨域：</h2> <p>www.baidi.com =&gt; www.360.cn/1.txt
xss  跨站脚本攻击</p> <ol><li>跨域有风险</li> <li>第三方数据交互需求</li></ol> <p>跨域方式[域名、端口、协议不同]</p> <ol><li>form</li> <li>ajax - 麻烦、安全</li> <li>jsonp - 简单、有风险</li> <li>websocket</li></ol> <h2 id="安全性："><a href="#安全性：" class="header-anchor">#</a> 安全性：</h2> <p>1.系统性：内核问题
2.代码安全性：  写的时候有没有犯一些愚蠢/偷懒的问题</p> <h2 id="http协议-rfc2612"><a href="#http协议-rfc2612" class="header-anchor">#</a> http协议  RFC2612</h2> <p>RFC: 一系列以编号排定的文件    互联网所有协议的标准版本都用RFC</p> <ol><li>[c-&gt;s]发送链接请求</li> <li>[c&lt;-s]服务器接受（拒绝）</li> <li>[c-&gt;s]发送请求  Request</li> <li>[c&lt;-s]数据[后断开]  Response</li></ol> <p>HTTP消息</p> <table><thead><tr><th>-   HEADER &lt;= 32K  -</th></tr></thead> <tbody><tr><td>-   BODY  &lt;= 1G  -</td></tr></tbody></table> <p>get:数据在URL上(HTTP头)
post:数据放在HTTP的包体内</p> <h2 id="osi七层交换-参考-模型："><a href="#osi七层交换-参考-模型：" class="header-anchor">#</a> OSI七层交换“参考”模型：</h2> <ul><li><ol start="7"><li>应用层  应用细节 HTTP\FTP\SMTP\POP3</li></ol></li> <li><ol start="6"><li>会话层  x  希望记录状态   [无状态通信 不记录状态]</li></ol></li> <li><ol start="5"><li>表现层  x  统一各个网络结构（拨号、光纤、卫星）</li></ol></li> <li><ol start="4"><li>传输层  通信稳定性（错误、顺序..） tcp</li></ol></li> <li><ol start="3"><li>网络层  外网寻址（链接INTER） IP</li></ol></li> <li><ol start="2"><li>链路层  内网寻址（局域网内） ARP  icmpicmp</li></ol></li> <li><ol><li>物理层  物理学家、通信工程--材料、电压</li></ol></li></ul> <h2 id="表单："><a href="#表单：" class="header-anchor">#</a> 表单：</h2> <ol><li>属性
action   提交到哪里
method   GET、POST    PUT、HEADER、DELETE；自定义
name     必须加、可以重复
submit按钮   input[submit]</li> <li>数据提交方法
GET请求：数据放在URL中
- 用量有限
- 人眼是看得见（表单）
- 有缓存
- 利于分享和收藏
POST请求：数据不再URL上
- 容量1G
- 上传没有断点续传
- 看不见（表单）
- 不缓存
- 没办法分享、收藏
两种方法安全性一样，只有HTTPS相对安全。</li> <li>校验</li></ol> <h2 id="ajax："><a href="#ajax：" class="header-anchor">#</a> Ajax：</h2> <ol><li>浏览器</li></ol> <ul><li>xhr的同步和异步
<ul><li>同步是 串行</li> <li>异步是 并行</li> <li>xhr.readystate
<ul><li>0 初始化-刚创建</li> <li>1 已连接</li> <li>2 已发送</li> <li>3 已接收 - header</li> <li>4 已接收 - body  完事，不论成功失败</li></ul></li> <li>http状态码：数字
<ul><li>1xx  消息    ==&gt;websocket</li> <li>2xx  成功</li> <li>3xx  重定向  ==&gt;
- 301 永久重定向
- 302 临时重定向
- 304 成功成缓存中拿到数据</li> <li>4xx  请求错误</li> <li>5xx  服务端错误</li> <li>6xx  扩展</li></ul></li></ul></li> <li>xhr.responseText 文本
xhr.responseXML  xml数据</li></ul> <ol start="2"><li>服务器</li></ol> <h2 id="问题"><a href="#问题" class="header-anchor">#</a> 问题</h2> <ol><li><p>ws向下兼容</p></li> <li><p>从前台来的任何数据都不可信，任何一个字符都需要校验</p></li> <li><p>怎么理解http和https | http1.0、http2.0
http:            容易被攻击
https: security  安全的</p> <p>http1.0    最古老、一次性链接
http1.1    保持链接   性能有提升
http2.0    草案
强制https
自带双向通信
协议级的多路复用</p></li> <li><p>cookies和session的区别</p></li> <li><p>TCP - 传输控制协议</p> <ul><li>保证到达</li> <li>保证质量</li> <li>保证顺序
UDP - 用户数据报协议   对质量没有绝对要求、对延迟有很高要求     IP电话、视频直播</li> <li>不保证到达</li> <li>不保证质量</li> <li>不保证顺序</li></ul> <p>HTTP就是应用层协议，它是基于TCP的。</p></li> <li><p>什么时候ajax,什么时候用表单提交？
表单 -- 更稳定   &lt;== 表单提交是浏览器实现的
ajax -- 用户体检 &lt;== js实现</p></li> <li><p>表单重复提交怎么处理？</p> <ul><li>开始提交的时候禁用submit /  完成后取消</li></ul></li> <li><p>DOM4j 解析XML和HTML的区别</p></li> <li><p>postman</p></li> <li><p>派发和重定向（转发）的区别
重定向  给浏览器下命令   让浏览器去请求另一个地址  --  地址变
派发    在服务器内部，把请求转发给另一个模块处理；对客户端是不可见的 -- 地址不变</p></li></ol></div> <section class="tags" data-v-71046f2c><span class="tagPopup" data-v-71046f2c><a href="/mysite/tags/?tag=docs" class="tag" data-v-71046f2c>docs</a></span><span class="tagPopup" data-v-71046f2c><a href="/mysite/tags/?tag=data" class="tag" data-v-71046f2c>data</a></span></section> <footer class="page-edit" data-v-71046f2c><!----> <!----></footer> <div class="page-nav" data-v-71046f2c><p class="inner" data-v-71046f2c><!----> <span class="next" data-v-71046f2c><a href="/mysite/coding/vuepress.html" data-v-71046f2c>About</a>→
      </span></p></div> <div id="gitalk-container" data-v-71046f2c></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/mysite/assets/js/app.a43bba06.js" defer></script><script src="/mysite/assets/js/3.6b13731c.js" defer></script><script src="/mysite/assets/js/2.56b9bd7b.js" defer></script><script src="/mysite/assets/js/14.21921766.js" defer></script>
  </body>
</html>
